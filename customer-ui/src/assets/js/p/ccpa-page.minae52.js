function getCookie(n){var i="; "+document.cookie,t=i.split("; "+n+"=");if(t.length==2)return t.pop().split(";").shift()}var showThankYouContactUs=()=>{$("#thank-you-sender-name").text($("#first-name").val()),$(".contact-form-wrapper").hide(),$(".thank-you-wrap").show(),$(".contacts-list").show(),$([document.documentElement,document.body]).animate({scrollTop:$(".thank-you-wrap").offset().top-100},800)};(function(){function k(n){var t=n.target.value;t.match(/^[a-zA-Z\s]+$/)?(n.target.classList.add("valid"),n.target.classList.remove("error")):(n.target.classList.remove("valid"),n.target.classList.add("error"))}function d(n){var t=[];for(key in n)n.hasOwnProperty(key)&&t.push(encodeURIComponent(key)+"="+encodeURIComponent(n[key]));return t.join("&")}var l=document.getElementById("ccpa-form"),c=document.getElementById("first-name"),e=document.getElementById("last-name"),o=document.getElementById("email"),s=document.getElementById("phone-number"),h=document.getElementById("zipcode"),w=document.getElementById("request"),t=document.getElementById("consumer-first-name"),i=document.getElementById("consumer-last-name"),r=document.getElementById("consumer-email"),u=document.getElementById("consumer-phone-number"),f=document.getElementById("consumer-zipcode"),a,v,y,p,n,b;for(l.addEventListener("submit",function(n){var y,a;if(n.preventDefault(),y=getCookie("od_s")=="test"?"test":grecaptcha.getResponse(),a=document.querySelector('[name="isAgent"]:checked'),c.classList.contains("valid")&&e.classList.contains("valid")&&o.classList.contains("valid")&&s.classList.contains("valid")&&h.classList.contains("valid")&&(a==null||a.value=="false"||t&&t.classList.contains("valid")&&i&&i.classList.contains("valid")&&r&&r.classList.contains("valid")&&u&&u.classList.contains("valid")&&f&&f.classList.contains("valid"))&&y.length>0){console.log("submitting the form");l.querySelector("button").disabled=!0;var p=document.getElementById("request"),b=p.options[p.selectedIndex].text,k={firstName:c.value,lastName:e.value,email:o.value,phone:s.value,zip:h.value,referer:document.referrer,recaptchaResponse:y,request:b,isAgent:a?a.value:!1,consumerFirstName:t?t.value:"",consumerLastName:i?i.value:"",consumerEmail:r?r.value:"",consumerPhone:u?u.value:"",consumerZip:f?f.value:""},v=new XMLHttpRequest;v.open("POST","/SendCcpa/");v.setRequestHeader("Content-Type","application/x-www-form-urlencoded");v.setRequestHeader("Cache-Control","no-cache");v.onreadystatechange=function(){v.readyState===4&&v.status===200&&(e.value="",o.value="",s.value="",h.value="",c.classList.remove("valid"),e.classList.remove("valid"),o.classList.remove("valid"),s.classList.remove("valid"),h.classList.remove("valid"),w.classList.remove("valid"),a&&a.value=="true"&&(t.value="",i.value="",r.value="",u.value="",f.value="",t.classList.remove("valid"),i.classList.remove("valid"),r.classList.remove("valid"),u.classList.remove("valid"),f.classList.remove("valid")),showThankYouContactUs());l.querySelector("button").disabled=!1};v.send(d(k))}else c.classList.contains("valid")||c.classList.add("error"),e.classList.contains("valid")||e.classList.add("error"),o.classList.contains("valid")||o.classList.add("error"),s.classList.contains("valid")||s.classList.add("error"),h.classList.contains("valid")||h.classList.add("error"),a&&a.value=="true"&&(t.classList.contains("valid")||t.classList.add("error"),i.classList.contains("valid")||i.classList.add("error"),r.classList.contains("valid")||r.classList.add("error"),u.classList.contains("valid")||u.classList.add("error"),f.classList.contains("valid")||f.classList.add("error")),y.length===0&&document.getElementsByTagName("iframe")[0].classList.add("error")}),a=document.getElementsByClassName("text-validation"),n=0;n<a.length;n++)a[n].addEventListener("blur",k);for(v=document.getElementsByClassName("email-validation"),n=0;n<v.length;n++)v[n].addEventListener("blur",function(n){var t=n.target.value;t.match(/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+([a-zA-Z])$/)?(n.target.classList.add("valid"),n.target.classList.remove("error")):(n.target.classList.remove("valid"),n.target.classList.add("error"))});for(y=document.getElementsByClassName("phone-validation"),n=0;n<y.length;n++)y[n].addEventListener("blur",function(n){var t=n.target.value;t.match(/^\(?\d{3,3}\)?\d{3,3}\-?\d{4,4}$/)?(n.target.classList.add("valid"),n.target.classList.remove("error")):(n.target.classList.remove("valid"),n.target.classList.add("error"))});for(p=document.getElementsByClassName("zip-validation"),n=0;n<p.length;n++)p[n].addEventListener("blur",function(){this.value.length!=5?(this.classList.remove("valid"),this.classList.add("error")):(this.classList.add("valid"),this.classList.remove("error"))});w.addEventListener("blur",function(){this.value=="0"?(this.classList.remove("valid"),this.classList.add("error")):(this.classList.add("valid"),this.classList.remove("error"))});b=document.getElementsByName("isAgent");b.forEach(n=>n.addEventListener("click",function(){this.value=="true"?$(".consumer-form-group").show():$(".consumer-form-group").hide()}))})();