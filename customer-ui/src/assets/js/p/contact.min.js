function getCookie(n){var i="; "+document.cookie,t=i.split("; "+n+"=");if(t.length==2)return t.pop().split(";").shift()}var showThankYouContactUs=()=>{$(".contact-form-wrapper").hide(),$(".thank-you-wrap").show()};(function(){function e(n){var t=n.target.value;t.match(/^[a-zA-Z\s]+$/)?(n.target.classList.add("valid"),n.target.classList.remove("error")):(n.target.classList.remove("valid"),n.target.classList.add("error"))}function o(n){var t=[];for(key in n)n.hasOwnProperty(key)&&t.push(encodeURIComponent(key)+"="+encodeURIComponent(n[key]));return t.join("&")}var f=document.getElementById("contact-form"),t=document.getElementById("first-name"),i=document.getElementById("last-name"),r=document.getElementById("email"),n=document.getElementById("phone-number"),u=document.getElementById("message");f.addEventListener("submit",function(e){var h,c,s;e.preventDefault();console.log(document.getElementsByClassName("g-recaptcha"));h=getCookie("od_s")=="test"?"test":grecaptcha.getResponse();t.classList.contains("valid")&&i.classList.contains("valid")&&r.classList.contains("valid")&&n.classList.contains("valid")&&u.classList.contains("valid")&&h.length>0?(console.log("submitting the form"),f.querySelector("button").disabled=!0,c={firstName:t.value,lastName:i.value,email:r.value,phone:n.value,comment:u.value,referer:document.referrer,recaptchaResponse:h},s=new XMLHttpRequest,s.open("POST","/ContactUs/"),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.setRequestHeader("Cache-Control","no-cache"),s.onreadystatechange=function(){s.readyState===4&&s.status===200&&(t.value="",i.value="",r.value="",n.value="",u.value="",t.classList.remove("valid"),i.classList.remove("valid"),r.classList.remove("valid"),n.classList.remove("valid"),u.classList.remove("valid"),showThankYouContactUs());f.querySelector("button").disabled=!1},s.send(o(c))):(t.classList.contains("valid")||t.classList.add("error"),i.classList.contains("valid")||i.classList.add("error"),r.classList.contains("valid")||r.classList.add("error"),n.classList.contains("valid")||n.classList.add("error"),u.classList.contains("valid")||u.classList.add("error"),h.length===0&&document.getElementsByTagName("iframe")[0].classList.add("error"))});t.addEventListener("blur",e);i.addEventListener("blur",e);r.addEventListener("blur",function(n){var t=n.target.value;t.match(/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+([a-zA-Z])$/)?(n.target.classList.add("valid"),n.target.classList.remove("error")):(n.target.classList.remove("valid"),n.target.classList.add("error"))});n.addEventListener("blur",function(n){var t=n.target.value;t.match(/^\s*\(?\s*\d{3,3}\s*\-?\)?\s*\d{3,3}\s*\-?\s*\d{4,4}\s*$/)?(n.target.classList.add("valid"),n.target.classList.remove("error")):(n.target.classList.remove("valid"),n.target.classList.add("error"))});n.addEventListener("keyup",function(n){if(n.which===8||n.which===65&&n.ctrlKey||n.which==17)return!0;var t=this.value.replace(/[^\d]/g,"");this.value=t<1?"":"("+t.substr(0,3)+")";t>3&&(this.value+=" "+t.substr(3,3));t>6&&(this.value+=" - "+t.substr(6,4))});u.addEventListener("keyup",function(){this.value.length===0?(this.classList.remove("valid"),this.classList.add("error")):(this.classList.add("valid"),this.classList.remove("error"))})})();